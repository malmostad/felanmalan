(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{113:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var r,i=n(1),a=n.n(i),o=n(55),c=n.n(o),s=n(13),d=n(4),l=n.p+"static/media/MalmoRubrik-Regular.f30e3e11.woff2",p=n.p+"static/media/MyriadPro-Regular.12c60c4f.otf",u=n.p+"static/media/MyriadPro-Light.bbf00c28.otf",h=n.p+"static/media/MyriadPro-Bold.1476d159.otf",m=Object(d.b)(r||(r=Object(s.a)(["\n\n@font-face {\n  font-family: 'MyriadPro';\n  src: local('MyriadPro'), url(",") format('opentype');\n  font-weight: normal;\n}\n@font-face {\n  font-family: 'MyriadPro';\n  src: local('MyriadPro'), url(",") format('opentype');\n  font-weight: lighter;\n}\n@font-face {\n  font-family: 'MyriadPro';\n  src: local('MyriadPro'), url(",") format('opentype');\n  font-weight: bold;\n}\n\n\n@font-face {\n  font-family: 'MalmoRubik Regular';\n  src: url(",") format('woff2');\n  src: local('MalmoRubik Regular'), local('MalmoRubikRegular');\n  font-weight: 300;\n  font-style: normal;\n}\n\n* {\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: MyriadPro, Open sans, Verdana;\n}\n\nhtml {\n  width: 100%;\n}\n\na {\n  color: white;\n}\n\n"])),p,u,h,l),b=n(7),x=n(2),f=Object(i.createContext)();if(!f)throw new Error("AppContext must be used with AppProvider!");var j=function(){return Object(i.useContext)(f)},g=function(e){var t=e.children,n=Object(i.useState)(!1),r=Object(b.a)(n,2),a=r[0],o=r[1],c=Object(i.useState)(!1),s=Object(b.a)(c,2),d=s[0],l=s[1],p=Object(i.useState)(null),u=Object(b.a)(p,2),h=u[0],m=u[1],j=Object(i.useState)(null),g=Object(b.a)(j,2),y=g[0],w=g[1],O=Object(i.useState)(""),v=Object(b.a)(O,2),k=v[0],C=v[1],S=Object(i.useState)(0),I=Object(b.a)(S,2),_=I[0],N=I[1],P=Object(i.useState)(null),z=Object(b.a)(P,2),A=z[0],V=z[1],F=Object(i.useState)(!1),B=Object(b.a)(F,2),R=B[0],M=B[1],T=Object(i.useState)(!1),E=Object(b.a)(T,2),W=E[0],U=E[1],G=Object(i.useState)([]),D=Object(b.a)(G,2),L=D[0],H=D[1],q={setLoading:o,loading:a,error:d,setError:l,errorStatusCode:h,setErrorStatusCode:m,errorMessenger:y,setErrorMessenger:w,setCurrentViewHeading:C,currentViewHeading:k,setUploadProgress:N,uploadProgress:_,imageURI:A,setImageURI:V,uploadStatus:R,setUploadStatus:M,uploading:W,setUploading:U,imagesToBeUploaded:L,setImagesToBeUploaded:H};return Object(i.useEffect)((function(){switch(!0){case h<499:w("".concat(h," a client error, please try agin"));break;case h<599:w("".concat(h," something went wrong on our side, sorry but try agin"));break;default:w("unexpected error")}}),[h]),Object(x.jsx)(f.Provider,{value:q,children:t})},y=n(6),w=n(28),O=n(8),v=n.n(O),k=n(12),C=n(68),S=n(60),I=function(){document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))};window.addEventListener("resize",I),I();var _,N,P,z,A,V,F,B,R=d.c.div.withConfig({displayName:"Containers__MainContainer",componentId:"sc-79cc7o-0"})(["display:flex;height:var(--app-height);flex-direction:column;justify-content:space-between;background-color:",";"],(function(e){var t=e.currentViewIndex,n=e.lastViewIndex,r=e.theme;return t===n?r.colors.PrimaryGreen:r.colors.White})),M=d.c.div.withConfig({displayName:"Containers__StyledFlexCenter",componentId:"sc-79cc7o-1"})(["display:flex;justify-content:center;align-items:center;"]),T=d.c.div.withConfig({displayName:"Containers__StyledOuter",componentId:"sc-79cc7o-2"})(["width:100vw;height:var(--app-height);display:flex;flex-direction:column;justify-content:space-between;overflow-y:scroll;background-color:",";"],(function(e){var t=e.bgWhite,n=e.bgSecondary,r=e.theme;return t?r.colors.White:n?r.colors.SecondaryGreen:r.colors.PrimaryGreen})),E=Object(d.c)(T).withConfig({displayName:"Containers__StyledOuterFollowUpView",componentId:"sc-79cc7o-3"})(["overflow-y:hidden;min-height:calc(var(--app-height) - 398px);@media (max-width:560px){min-height:calc(var(--app-height) - 352px);}@media (max-width:560px) and (max-height:620px){min-height:calc(var(--app-height) - 315px);}"]),W=d.c.div.withConfig({displayName:"Containers__StyledButtonOuter",componentId:"sc-79cc7o-4"})(["transition:transform 0.3s ease-out;display:flex;background-color:",";background-color:",";background-color:",";"],(function(e){var t=e.windowWidth,n=e.currentViewIndex,r=e.lastViewIndex,i=(e.formState,e.theme);return t<560&&0===n||n===r?i.colors.PrimaryGreen:i.colors.White}),(function(e){var t=e.formState,n=e.theme;return t>0&&n.colors.White}),(function(e){var t=e.currentViewIndex,n=e.lastViewIndex,r=e.theme;return t===n&&r.colors.PrimaryGreen})),U=d.c.div.withConfig({displayName:"Containers__StyledButtonInner",componentId:"sc-79cc7o-5"})(["display:flex;margin:0 auto;justify-content:center;align-items:center;padding:16px 0px;width:100%;height:100%;flex-direction:row-reverse;max-width:560px;"]),G=d.c.div.withConfig({displayName:"Containers__StyledCookieContainer",componentId:"sc-79cc7o-6"})(["flex-direction:column;justify-content:start;margin:0 auto;max-width:560px;@media (max-width:560px){padding:15px;}"]),D=d.c.div.withConfig({displayName:"Containers__StyledButtonContainer",componentId:"sc-79cc7o-7"})(["flex-direction:column;display:flex;margin:0 auto;margin-top:1rem;width:100%;height:160px;justify-content:end;margin-bottom:20px;"]),L=d.c.div.withConfig({displayName:"Containers__StyledContentFollowUpView",componentId:"sc-79cc7o-8"})(["display:flex;overflow:hidden;width:100%;max-width:560px;margin:0px auto;flex-direction:column;align-items:center;background-color:#037540;color:white;font-size:22px;z-index:50;height:220px;align-self:center;justify-content:center;@media (max-width:560px){margin:0 auto;}"]),H=d.c.div.withConfig({displayName:"Containers__StyledHeaderContainer",componentId:"sc-79cc7o-9"})(["background-color:",";display:flex;justify-content:center;text-align:left;align-content:center;height:auto;min-height:270px;@media (max-height:620px){min-height:225px;}"],(function(e){return e.theme.colors.PrimaryGreen})),q=d.c.div.withConfig({displayName:"Containers__StyledHeaderContainerText",componentId:"sc-79cc7o-10"})(["max-width:560px;margin:0 auto;overflow:hidden;width:100%;"]),Z=d.c.div.withConfig({displayName:"Containers__StyledHeroContainer",componentId:"sc-79cc7o-11"})(["padding-top:60px;@media (max-width:560px){padding-top:33px;padding-left:12px;padding-right:12px;width:100%;margin:0 auto;max-width:296px;}"]),Y=d.c.div.withConfig({displayName:"Containers__StyledTable",componentId:"sc-79cc7o-12"})(["width:fit-content;padding-bottom:2rem;display:flex;@media (min-width:560px){margin:auto;overflow:hidden;align-content:space-evenly;}"]),K=d.c.div.withConfig({displayName:"Containers__StyledFlexTheContainer",componentId:"sc-79cc7o-13"})(["display:flex;flex-direction:row;flex-wrap:nowrap;@media (min-width:560px){max-width:520px;flex-wrap:wrap;width:100%;margin:auto;justify-content:center;margin-right:0;}"]),Q=d.c.div.withConfig({displayName:"Containers__StyledRow",componentId:"sc-79cc7o-14"})(["display:flex;flex-direction:row;@media (min-width:560px){flex-wrap:wrap;margin-bottom:40px;}"]),J=d.c.img.withConfig({displayName:"Containers__StyledCell",componentId:"sc-79cc7o-15"})(["width:250px;max-height:250px;min-height:250px;display:flex;object-fit:cover;margin:0 10px;@media (max-height:595px){width:210px;max-height:210px;min-height:210px;}"]),X=d.c.div.withConfig({displayName:"Containers__StyledCellUpload",componentId:"sc-79cc7o-16"})(["width:250px;max-height:250px;min-height:250px;display:flex;margin:0 10px;position:absolute;top:0;background-color:rgba(255,255,255,0.5);@media (max-height:595px){width:210px;max-height:210px;min-height:210px;}"]),$=d.c.div.withConfig({displayName:"Containers__StyledImagesSize",componentId:"sc-79cc7o-17"})(["max-width:250px;min-width:250px;margin-top:10px;margin-right:10px;position:relative;@media (max-height:595px){max-height:210px;min-height:210px;max-width:210px;min-width:210px;}"]),ee=d.c.div.withConfig({displayName:"Containers__StyledAddImage",componentId:"sc-79cc7o-18"})(["margin-top:10px;color:yellow;width:250px;height:250px;margin-right:10px;@media (max-height:595px){width:210px;height:210px;}"]),te=d.c.button.withConfig({displayName:"Containers__StyledButtonImage",componentId:"sc-79cc7o-19"})(["border:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;display:block;justify-content:center;align-items:center;background-color:#d5d5d5;width:100%;height:100%;margin:0 10px;cursor:pointer;box-sizing:content-box;&:hover{background-color:#a6a6a6;}"]),ne=d.c.div.withConfig({displayName:"Containers__StyledTouchCharter",componentId:"sc-79cc7o-20"})(["overflow-x:auto;width:100%;background:transparent;top:0;left:0;height:58vh;padding-top:12px;@media (min-width:560px){height:58vh;padding-bottom:22px;}"]),re=(d.c.img.withConfig({displayName:"Containers__StyledImg",componentId:"sc-79cc7o-21"})(["padding-top:10px;padding-right:10px;object-fit:cover;width:250px;height:250px;@media (max-height:595px){width:210px;height:210px;}"]),d.c.div.withConfig({displayName:"Containers__StyledUploadContainer",componentId:"sc-79cc7o-22"})(["flex:1;background-color:",";@media (min-width:560px){background-color:",";height:calc(100vh - 360px);}"],(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.White}))),ie=d.c.div.withConfig({displayName:"Containers__StyledImageContainer",componentId:"sc-79cc7o-23"})(["display:flex;justify-content:center;"]),ae=(d.c.div(_||(_=Object(s.a)(["\n  position: relative;\n  text-align: center;\n  width: 100%;\n  height: 100%;\n\n  opacity: ",";\n  img {\n    object-fit: contain;\n    width: 230px;\n    height: 230px;\n  }\n"])),(function(e){return e.progress})),d.c.div(N||(N=Object(s.a)(["\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: inherit;\n  width: inherit;\n"]))),d.c.div(P||(P=Object(s.a)(["\n  color: red;\n  font-size: 24px;\n  position: absolute;\n  bottom: 0;\n  right: 10%;\n  transform: translate(-50%, -50%);\n  -ms-transform: translate(-50%, -50%);\n  cursor: pointer;\n"]))),d.c.div(z||(z=Object(s.a)(["\n  font-family: MyriadPro, Open sans, Verdana;\n  width: 100%;\n  max-width: 520px;\n  height: 230px;\n  margin: 50px auto;\n  color: ",";\n  cursor: pointer;\n  border: none;\n  margin-bottom: 60px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.15),\n    inset 0 2px 2px rgba(0, 0, 0, 0.1);\n  border-radius: 5px;\n  @media (max-width: 560px) {\n    display: none;\n  }\n"])),(function(e){return e.theme.colors.PrimaryGreen}))),oe=d.c.div(A||(A=Object(s.a)(["\n  width: 52px;\n  height: 52px;\n  background-color: ",";\n  color: ",";\n  float: left;\n  position: absolute;\n  bottom: 0;\n  right: -10px;\n  cursor: pointer;\n  /* @media (min-width: 560px) {\n    display: none;\n  } */\n"])),(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.White})),ce=d.c.button.withConfig({displayName:"Buttons__StyledButton",componentId:"sc-6jr0pw-0"})(["cursor:pointer;background-color:",";font-size:",";font-family:MyriadPro,Open sans,Verdana;font-weight:700;margin:0 10px;height:50px;color:",";width:270px;background:",";border-radius:2px;border:2px solid ",";justify-content:center;align-items:center;color:white;width:100%;max-width:520px;@media (max-width:560px){height:50px;}"],(function(e){var t=e.theme;return e.bgGreen?t.colors.PrimaryGreen:"inherit"}),(function(e){return e.theme.FontSizes.ButtonText}),(function(e){return e.theme.colors.PrimaryWhite}),(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.PrimaryGreen})),se=Object(d.c)(ce).withConfig({displayName:"Buttons__StyledButtonSkip",componentId:"sc-6jr0pw-1"})(["border:2px solid ",";"],(function(e){var t=e.windowWidth,n=e.theme;return t<560?n.colors.White:n.colors.PrimaryGreen})),de=d.c.button.withConfig({displayName:"Buttons__StyledFetchButton",componentId:"sc-6jr0pw-2"})(["appearance:none;outline:none;background-size:20px;background-color:",";background-position:19px;border:none;border-radius:31px;margin:10px;background-repeat:no-repeat;z-index:98;position:absolute;width:62px;height:62px;bottom:110px;right:5px;cursor:pointer;"],(function(e){return e.theme.colors.PrimaryGreen})),le=Object(d.c)(ce).withConfig({displayName:"Buttons__StyledOutlineButtonGreen",componentId:"sc-6jr0pw-3"})(["width:100%;max-width:530px;color:",";background-color:",";&:hover{background-color:",";color:",";}"],(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.White}),(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.White})),pe=Object(d.c)(ce).withConfig({displayName:"Buttons__StyledOutlineButtonWhite",componentId:"sc-6jr0pw-4"})(["color:",";background-color:",";border:2px solid ",";&:hover{background-color:",";color:",";}"],(function(e){return e.theme.colors.White}),(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.White}),(function(e){return e.theme.colors.White}),(function(e){return e.theme.colors.PrimaryGreen})),ue=Object(d.c)(ce).withConfig({displayName:"Buttons__StyledOutlineButtonWhiteFirstPage",componentId:"sc-6jr0pw-5"})(["margin:0 auto;width:100%;max-width:560px;color:",";background-color:",";border:2px solid ",";@media (max-width:560px){max-width:485px;width:83%;}"],(function(e){return e.theme.colors.White}),(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.White})),he=Object(d.c)(ce).withConfig({displayName:"Buttons__StyledButtonAddImg",componentId:"sc-6jr0pw-6"})(["width:95%;bottom:90px;left:0;position:absolute;border:2px solid ",";@media (min-width:560px){display:none;}"],(function(e){return e.theme.colors.White})),me=Object(d.c)(ce).withConfig({displayName:"Buttons__StyledReadMoreButton",componentId:"sc-6jr0pw-7"})(['margin:10px auto;color:white;max-width:100px;border:none;font-family:"MyriadPro";font-weight:lighter;-moz-osx-font-smoothing:grayscale;&:hover{filter:brightness(100%);text-decoration:underline;color:white;}']),be=(d.c.div.withConfig({displayName:"Buttons__StyledDropzoneContainer",componentId:"sc-6jr0pw-8"})(["display:flex;justify-content:center;align-items:center;width:100vw;height:55vh;"]),d.c.button.withConfig({displayName:"Buttons__StyledDropzone",componentId:"sc-6jr0pw-9"})(["background-color:transparent;color:",";width:100%;max-width:560px;height:100%;max-height:230px;cursor:pointer;border-radius:10px;-moz-box-shadow:inset 0 0 5px #000000;-webkit-box-shadow:inset 0 5px #000000;box-shadow:inset 0 0 5px #000000;@media (max-width:560px){display:none;}"],(function(e){return e.theme.colors.PrimaryGreen})),function(e){var t=e.onImagesAdd,n=Object(i.useRef)(null),r=Object(i.useCallback)((function(e){t(e)}),[t]),a=Object(C.a)({onDrop:r}),o=a.getRootProps,c=a.getInputProps;return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(re,{children:[Object(x.jsxs)(ae,Object(y.a)(Object(y.a)({},o()),{},{children:[Object(x.jsx)("input",Object(y.a)({name:"images",type:"file",id:"upload-button",multiple:!0,ref:n,style:{display:"none"},accept:"image/*"},c())),Object(x.jsx)(S.a,{size:"3rem",style:{color:"#037540",marginBottom:"10px"}}),"Klicka eller dra hit f\xf6r att starta uppladdning"]})),Object(x.jsx)(ie,{children:Object(x.jsxs)(he,Object(y.a)(Object(y.a)({},o()),{},{children:[Object(x.jsx)("input",Object(y.a)({name:"images",type:"file",id:"upload-button",multiple:!0,ref:n,accept:"image/*"},c())),"L\xe4gg till bild"]}))})]})})}),xe=n(119),fe=d.c.div(V||(V=Object(s.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 100%;\n"]))),je=d.c.progress(F||(F=Object(s.a)(["\n  width: 250px;\n  border: none;\n  height: 10px;\n  color: green !important;\n  margin-top: 5px;\n  position: absolute;\n  bottom: 0;\n  @media (max-height: 595px) {\n    width: 210px;\n  }\n"]))),ge=function(e){var t=e.max,n=e.progress;return Object(x.jsx)(fe,{children:Object(x.jsx)(M,{children:Object(x.jsx)(je,{value:n,max:t})})})},ye=n(61),we=function(e){var t=e.image,n=e.onImageRemove,r=Object(i.useState)(!1),a=Object(b.a)(r,2),o=a[0],c=a[1],s=function(){c(!0)};return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)($,{onTouchStart:s,onMouseLeave:function(){c(!1)},onMouseEnter:s,children:[Object(x.jsx)(J,{id:t.id,src:t.preview_URL,alt:"alt"}),t.uploadProgress<100&&Object(x.jsx)(X,{children:Object(x.jsx)(ge,{max:100,progress:t.uploadProgress})}),o&&Object(x.jsx)(oe,{onClick:function(){return n(t.id)},children:Object(x.jsx)(ye.a,{style:{margin:"10px auto",display:"flex"},size:"2rem"})})]})})},Oe=n(62),ve=function(e){var t=e.images,n=e.onImagesAdd,r=e.onImageRemove,a=Object(i.useRef)(null);return Object(x.jsx)(ne,{children:Object(x.jsx)(Y,{children:Object(x.jsx)(K,{children:Object(x.jsxs)(Q,{children:[Object(x.jsx)(ee,{children:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",{name:"images",type:"file",id:"upload-button",multiple:!0,onChange:function(e){n(Array.from(e.target.files))},ref:a,style:{display:"none"},accept:"image/*"}),Object(x.jsx)(te,{onClick:function(){return a.current.click()},children:Object(x.jsx)(Oe.a,{size:"2.4rem",style:{color:"#046a38"}})})]})}),t.map((function(e,t){return Object(x.jsx)(we,{image:e,onImageRemove:r},e.id)}))," "]})})})})},ke=n(63),Ce=n.n(ke).a.create({baseURL:"",headers:{"Content-type":"application/json"}}),Se=function(){var e=Object(k.a)(v.a.mark((function e(t,n){var r,i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={imageId:null},(i=new FormData).append("file",t),e.prev=3,e.next=6,Ce.post("upload",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:n});case 6:if(!(a=e.sent)){e.next=12;break}return e.next=10,a.data.tempId;case 10:o=e.sent,r.imageId=o;case 12:e.next=17;break;case 14:throw e.prev=14,e.t0=e.catch(3),new Error(e.t0);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(k.a)(v.a.mark((function e(t){var n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 1,2,n={IssueRegistrator:t.name,IssueDescription:t.description,IssueEasting:t.longitude,IssueNorthing:t.latitude,IssueDocuments:t.images,IssueRegisterContactEmail:t.email,IssueRegisterContactPhone:t.phone},t.enable_tracking&&t.email.length>0?n.IssueRegistratorFeedbackType=2:t.enable_tracking&&t.phone.length>0&&(n.IssueRegistratorFeedbackType=1),e.prev=4,e.next=7,Ce.post("arende",Object(y.a)({},n));case 7:if(200!==(r=e.sent).status){e.next=10;break}return e.abrupt("return",r);case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(4),new Error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(k.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t.longitude,",").concat(t.latitude,".json?access_token=").concat("pk.eyJ1IjoiaWFuZHdlIiwiYSI6ImNqeGN5ODRoNjAwZDYzeW9jb2RxdjExbmoifQ.Bjk-ToddNkWUlt_1s-ZKNg"));case 3:return n=e.sent,e.abrupt("return",{address:n.data.features[0].text,number:n.data.features[0].address});case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(k.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ce.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,".json?types=address&bbox=").concat(n.join(","),"&access_token=").concat("pk.eyJ1IjoiaWFuZHdlIiwiYSI6ImNqeGN5ODRoNjAwZDYzeW9jb2RxdjExbmoifQ.Bjk-ToddNkWUlt_1s-ZKNg"));case 3:return r=e.sent,e.abrupt("return",r.data.features);case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),Pe=n(27),ze=Object(i.createContext)(),Ae=function(){return Object(i.useContext)(ze)},Ve={images:[],latitude:void 0,longitude:void 0,description:"",address:"",name:"",email:"",phone:"",enable_tracking:!1},Fe=function(e){var t=e.children,n=Object(i.useReducer)((function(e,t){var n=t.type,r=t.field,i=t.payload;switch(n){case"setFormInfo":return Object(y.a)(Object(y.a)({},e),{},Object(Pe.a)({},r,i));case"addImage":return Object(y.a)(Object(y.a)({},e),{},{images:[].concat(Object(w.a)(e.images),[i])});case"removeImage":var a=e.images;return Object(y.a)(Object(y.a)({},e),{},{images:a.filter((function(e){return e!==i}))});case"clearFormInfo":return Object(y.a)({},Ve);default:return e}}),Ve),r=Object(b.a)(n,2),a=r[0],o=r[1],c={formState:a,handelSetFormInfo:function(e,t){o({type:"setFormInfo",field:e,payload:t})},dispatch:o};return Object(x.jsx)(ze.Provider,{value:c,children:t})},Be=d.c.h1.withConfig({displayName:"Typography__StyledHeroHeading",componentId:"sc-1bvz3q2-0"})(['overflow:hidden;padding-top:90px;font-size:4rem;color:white;font-family:MyriadPro,Open sans,Verdana;font-weight:700;@media (max-width:560px){padding:15px 0px;line-height:39px;font-size:2.1rem;max-width:20rem;font-family:"MyriadPro";font-weight:700;letter-spacing:0.2px;}']),Re=Object(d.c)(Be).withConfig({displayName:"Typography__StyledHeroHeadingThin",componentId:"sc-1bvz3q2-1"})(["font-weight:lighter;line-height:64px;padding:0;padding-bottom:10px;@media (max-width:560px){line-height:39px;}"]),Me=d.c.span.withConfig({displayName:"Typography__StyledSpanWord",componentId:"sc-1bvz3q2-2"})(["font-family:MyriadPro,Open sans,Verdana;font-weight:bold;"]),Te=d.c.p.withConfig({displayName:"Typography__StyledTextFollowUp",componentId:"sc-1bvz3q2-3"})(["align-self:flex-end;font-family:MyriadPro,Open sans,Verdana;color:#8f8787;"]),Ee=d.c.p.withConfig({displayName:"Typography__StyledSpanText",componentId:"sc-1bvz3q2-4"})(["font-size:1.06rem;font-weight:700;color:white;font-family:MyriadPro,Open sans,Verdana;margin:20px 0;-moz-osx-font-smoothing:grayscale;line-height:1.5715;"]),We=d.c.p.withConfig({displayName:"Typography__StyledInfoText",componentId:"sc-1bvz3q2-5"})(["font-size:1.06rem;color:white;font-family:MyriadPro,Open sans,Verdana;font-weight:lighter;line-height:1.5715;-moz-osx-font-smoothing:grayscale;"]),Ue=Object(d.c)(We).withConfig({displayName:"Typography__StyledText",componentId:"sc-1bvz3q2-6"})(["padding:10px;color:white;"]),Ge=Object(d.c)(Ue).withConfig({displayName:"Typography__StyledTextTitle",componentId:"sc-1bvz3q2-7"})(["margin-top:10px;flex-grow:1;overflow:hidden;font-size:22px;line-height:27px;color:white;font-family:MyriadPro,Open sans,Verdana;font-weight:bold;margin-bottom:0;font-weight:600;@media (max-width:560px){margin-left:10px;padding:0;}"]),De=d.c.div.withConfig({displayName:"Typography__StyledBorder",componentId:"sc-1bvz3q2-8"})(["overflow:hidden;max-width:100%;border:solid #f8c900 1px;@media (max-width:560px){margin-left:24px;margin-right:24px;}"]),Le=d.c.div.withConfig({displayName:"Typography__StyledTitleContainer",componentId:"sc-1bvz3q2-9"})(["display:flex;justify-content:space-between;"]),He=d.c.span.withConfig({displayName:"Typography__StyledBoldHeader",componentId:"sc-1bvz3q2-10"})(["font-family:MyriadPro,Open sans,Verdana;font-weight:bold;"]),qe=d.c.span.withConfig({displayName:"Typography__Errand",componentId:"sc-1bvz3q2-11"})(["color:white;font-family:MyriadPro,Open sans,Verdana;font-weight:bold;text-decoration:underline;"]),Ze=d.c.a.withConfig({displayName:"Typography__StyledDescription",componentId:"sc-1bvz3q2-12"})(["margin-top:1.5rem !important;font-size:26px;line-height:27px;color:white;font-family:MyriadPro,Open sans,Verdana;font-weight:lighter;-moz-osx-font-smoothing:grayscale;display:flex;margin:auto;justify-content:end;flex-direction:column;"]),Ye=function(){var e=j(),t=e.setCurrentViewHeading,n=e.imagesToBeUploaded,r=e.setImagesToBeUploaded,a=Object(i.useState)(0),o=Object(b.a)(a,2),c=o[0],s=o[1],d=Object(i.useContext)(Gt).dispatch,l=Ae().dispatch;Object(i.useEffect)((function(){t(Object(x.jsx)(Z,{children:Object(x.jsxs)(Re,{children:["L\xe4gg till ",Object(x.jsx)(Me,{children:"bilder"})," p\xe5"," ",Object(x.jsx)(Me,{children:"problemet"})," &",Object(x.jsx)(Me,{children:" platsen"})]})}))}),[]),Object(i.useEffect)((function(){n.length>0?(d({type:"disableSkip"}),d({type:c?"disableNext":"enableNext"})):0===n.length&&0===c&&(d({type:"enableSkip"}),d({type:"disableNext"}))}),[c,n,d]);var p=function(e){e.forEach((function(e){u(e)}))},u=function(e){var t=h(e);r((function(e){return e.concat(t)})),m(e,t)},h=function(e){return{preview_URL:URL.createObjectURL(e),id:Object(xe.a)(),uploadProgress:0}},m=function(){var e=Object(k.a)(v.a.mark((function e(t,n){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s((function(e){return e+1})),e.prev=1,e.next=4,Se(t,(function(e){n.uploadProgress=100*e.loaded/e.total,f(n)}));case 4:r=e.sent,s((function(e){return e-1})),l({type:"addImage",payload:r.imageId}),n.externalId=r.imageId,f(n),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("not really orherew"),s((function(e){return e-1}));case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(e){var t=n.findIndex((function(t){return e.id===t.id}));r((function(n){return n[t]=e,Object(w.a)(n)}))};return Object(x.jsx)(x.Fragment,{children:n.length>0?Object(x.jsx)(ve,{onImagesAdd:p,onImageRemove:function(e){var t=n.find((function(t){return t.id===e})).externalId;l({type:"removeImage",payload:t}),r((function(t){return t.filter((function(t){return t.id!==e}))}))},images:n}):Object(x.jsx)(be,{onImagesAdd:p})})},Ke=n(16),Qe=n(66),Je=(d.c.div.withConfig({displayName:"Spinners__StyledLoadingSpinner",componentId:"sc-1djp885-0"})(["display:inline-block;width:60px;height:60px;border-radius:50%;border:8px solid ",";border-top:8px solid ",";margin-bottom:8rem;"],(function(e){return e.theme.colors.PrimaryGreen}),(function(e){return e.theme.colors.SecondaryGreen})),Object(d.d)(B||(B=Object(s.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"])))),Xe=d.c.div.withConfig({displayName:"Spinners__LoadingSpinner",componentId:"sc-1djp885-1"})(["animation:"," 1s linear infinite;transform:translateZ(0);border-top:2px solid white;border-right:2px solid white;border-bottom:2px solid white;border-left:2px solid ",";background:transparent;width:24px;height:24px;border-radius:50%;margin:auto;"],Je,(function(e){return e.theme.colors.PrimaryGreen})),$e=function(e){var t=e.onUserLocation,n=Object(i.useState)(!1),r=Object(b.a)(n,2),a=r[0],o=r[1],c=Object(i.useState)(!0),s=Object(b.a)(c,2),d=s[0],l=s[1];Object(i.useEffect)((function(){window.navigator.permissions&&window.navigator.permissions.query({name:"geolocation"}).then((function(e){"denied"===e.state&&l(!1)}))}));return Object(x.jsx)(x.Fragment,{children:d&&Object(x.jsx)(de,{onClick:function(){o(!0),navigator.geolocation.getCurrentPosition((function(e){var n={latitude:e.coords.latitude,longitude:e.coords.longitude};t(n),o(!1)}),(function(e){l(!1)}))},children:a?Object(x.jsx)(Xe,{}):Object(x.jsx)(Qe.a,{size:"1.4rem",style:{color:"white",marginTop:"5px",transform:"rotate(-20deg)"}})})})},et=n(67),tt=n(17),nt=d.c.div.withConfig({displayName:"Searchbar__StyledLabelSearchBar",componentId:"sc-1pvwjhp-0"})(["font-size:15px;line-height:20px;position:absolute;top:0;display:flex;justify-content:center;width:100%;margin:0;z-index:98;"]),rt=d.c.div.withConfig({displayName:"Searchbar__StyledSearchLabel",componentId:"sc-1pvwjhp-1"})(['margin:10px 16px;box-shadow:0 2px 7px rgb(0 0 0 / 5%),0 1px 4px rgb(0 0 0 / 10%);line-height:24px;font-family:"Open Sans","Helvetica Neue",Arial,Helvetica,sans-serif;position:relative;background-color:#fff;min-width:240px;z-index:1;border:none;transition:width 0.25s,min-width 0.25s;width:560px;margin-top:20px;input:focus{outline:none;}']),it=d.c.div.withConfig({displayName:"Searchbar__StyledDivBar",componentId:"sc-1pvwjhp-2"})(["display:flex;"]),at=d.c.input.withConfig({displayName:"Searchbar__StyledInputSearchBar",componentId:"sc-1pvwjhp-3"})(["font-size:0.9rem;color:rgba(0,0,0,0.75);height:35px;width:500px;margin-left:13px;margin-right:auto;left:0;right:0;border:none;@media (max-width:560px){font-size:1rem;height:50px;}"]),ot=d.c.div.withConfig({displayName:"Searchbar__StyledSearchResultList",componentId:"sc-1pvwjhp-4"})(["width:100%;height:auto;background-color:white;"]),ct=d.c.ul.withConfig({displayName:"Searchbar__StyledResultUl",componentId:"sc-1pvwjhp-5"})(["list-style:none;:focus{outline:none;}"]),st=d.c.li.withConfig({displayName:"Searchbar__StyledSearchResult",componentId:"sc-1pvwjhp-6"})(["border-top:1px solid #e4e4e4;"]),dt=d.c.button.withConfig({displayName:"Searchbar__StyledListButton",componentId:"sc-1pvwjhp-7"})(["padding:20px 15px 20px 20px;border-bottom:1px solid #c8c7cc;width:100%;background-color:white;border:none;cursor:pointer;text-align:left;input:focus{outline:none;}&:hover{color:#404040;background-color:#f3f3f3;cursor:pointer;}"]),lt=d.c.span.withConfig({displayName:"Searchbar__StyledPrimaryAddress",componentId:"sc-1pvwjhp-8"})(["font-size:0.9rem;color:#12181f;font-weight:400;display:block;"]),pt=d.c.span.withConfig({displayName:"Searchbar__StyledSecondaryAddress",componentId:"sc-1pvwjhp-9"})(["font-size:0.8rem;color:#8a8a8d;"]),ut=Object(d.c)(pt).withConfig({displayName:"Searchbar__StyledNoResult",componentId:"sc-1pvwjhp-10"})(["border-top:1px solid #e4e4e4;font-size:1rem;height:80px;display:flex;justify-content:center;align-items:center;"]),ht=function(e){var t=e.searchResults,n=e.handleClickAddress;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(ct,{children:t.map((function(e){return Object(x.jsx)(st,{onClick:function(){return n(e.id)},children:Object(x.jsxs)(dt,{children:[Object(x.jsxs)(lt,{children:[e.text," ",e.address]}),Object(x.jsxs)(pt,{children:[e.properties.address," ",e.context[0].text," ",e.context[1].text]})]})},e.id)}))})})},mt=function(e){var t=e.address,n=e.renderPrefix,r=e.onResultSelect,a=e.maxBounds,o=Object(i.useState)([]),c=Object(b.a)(o,2),s=c[0],d=c[1],l=Object(i.useState)(!1),p=Object(b.a)(l,2),u=p[0],h=p[1],m=Object(i.useState)(""),f=Object(b.a)(m,2),j=f[0],g=f[1];Object(i.useEffect)((function(){g(t&&n?"I n\xe4rheten av: ".concat(t):t)}),[t,n]);var y=function(){var e=Object(k.a)(v.a.mark((function e(t){var n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.value.length>=3)){e.next=7;break}return e.next=3,Ne(t.target.value,a);case 3:0===(n=e.sent).length&&h(!0),n.length>=1&&h(!1),d(n);case 7:0===j&&(d([]),h(!1));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=Object(et.debounce)((function(e){return y(e)}),800);return Object(x.jsx)(nt,{children:Object(x.jsxs)(rt,{children:[Object(x.jsxs)(it,{children:[Object(x.jsx)(tt.c,{className:"search-icon"}),Object(x.jsx)(at,{onClick:function(){d([]),g(""),h(!1)},type:"text",value:j,placeholder:"S\xf6k efter en adress",onChange:function(e){g(e.target.value),w(e)}})]}),u?Object(x.jsx)(ut,{children:"Inga resultat hittade"}):Object(x.jsx)(ot,{children:Object(x.jsx)(ht,{searchResults:s,handleClickAddress:function(e){var t=s.find((function(t){return t.id===e})),n={latitude:t.center[1],longitude:t.center[0],address:[t.text,t.address].join(" "),zoom:16};r(n),d([])}})})]})})};n(113);function bt(){return(bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function xt(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ft=i.createElement("circle",{opacity:.1,r:20,transform:"matrix(1 0 0 -1 20 20)",fill:"#066B35"}),jt=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 11.2075C15.4432 11.2075 11.75 14.8311 11.75 19.3019C11.75 23.7726 15.4432 27.3962 20 27.3962C24.5568 27.3962 28.25 23.7726 28.25 19.3019C28.25 14.8311 24.5568 11.2075 20 11.2075Z",fill:"#066B35"}),gt=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 14C15.8953 14 15 14.8953 15 16C15 17.1047 15.8953 18 17 18C18.1047 18 19 17.1047 19 16C19 14.8953 18.1047 14 17 14Z",fill:"#FFE6E6"}),yt=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.9622 42.2301L19.9999 48L22.0376 42.2301V29.1724C21.3733 29.2781 20.6968 29.3455 19.9999 29.3455C19.303 29.3455 18.6265 29.2781 17.9622 29.1724L17.9622 42.2301Z",fill:"#066B35"});function wt(e,t){var n=e.title,r=e.titleId,a=xt(e,["title","titleId"]);return i.createElement("svg",bt({width:40,height:48,viewBox:"0 0 40 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},a),n?i.createElement("title",{id:r},n):null,ft,jt,gt,yt)}var Ot=i.forwardRef(wt),vt=(n.p,n(24));n.n(vt).a.workerClass=n(114).default;var kt={latitude:55.6051458,longitude:13.003365,transitionDuration:0,zoom:13},Ct=[[12.855952171065837,55.49066310369751],[13.17594041283428,55.6585718499375]],St=function(){var e=Ae(),t=e.handelSetFormInfo,n=e.formState,r=Object(i.useContext)(Gt).dispatch,a=Object(i.useState)(""),o=Object(b.a)(a,2),c=o[0],s=o[1],d=Object(i.useState)(),l=Object(b.a)(d,2),p=l[0],u=l[1],h=Object(i.useState)(!1),m=Object(b.a)(h,2),f=m[0],j=m[1],g=Object(i.useState)(kt),w=Object(b.a)(g,2),O=w[0],C=w[1];Object(i.useEffect)((function(){var e=n.latitude,t=n.longitude,i=n.address;e&&t&&i&&(C(Object(y.a)(Object(y.a)({},O),{},{latitude:e,longitude:t})),s(i),r({type:"enableNext"}))}),[]);var S=function(e,t){var n=Object(b.a)(t,2),r=Object(b.a)(n[0],2),i=r[0],a=r[1],o=Object(b.a)(n[1],2),c=o[0],s=o[1],d=Object(b.a)(e,2),l=d[0],p=d[1];return l<i||l>c||p<a||p>s},I=function(e,t){var n=Object(b.a)(e,2),r=n[0],i=n[1];return S(r,t)||S(i,t)},_=function(){C(Object(y.a)(Object(y.a)({},O),{},{transitionDuration:0}))},N=function(){var e=Object(k.a)(v.a.mark((function e(){var n,i,a,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_e(O,Ct);case 2:n=e.sent,i=n.address,a=n.number,o=[i,a].join(" ").trim(),j(!0),s(o),r({type:"enableNext"}),t("address",o);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"map-style",children:[Object(x.jsx)(mt,{address:c,renderPrefix:f,onResultSelect:function(e){j(!1),s(e.address),C(Object(y.a)(Object(y.a)({},O),{},{longitude:e.longitude,latitude:e.latitude,transitionDuration:400}))},maxBounds:Ct}),Object(x.jsxs)(Ke.e,Object(y.a)(Object(y.a)({},O),{},{transitionInterpolator:new Ke.a,onViewportChange:function(e){return function(e){var n=new Ke.d(e).getBounds();I(n,Ct)||(C(e),t("longitude",O.longitude),t("latitude",O.latitude))}(e)},mapboxApiAccessToken:"pk.eyJ1IjoiaWFuZHdlIiwiYSI6ImNqeGN5ODRoNjAwZDYzeW9jb2RxdjExbmoifQ.Bjk-ToddNkWUlt_1s-ZKNg",mapStyle:"mapbox://styles/iandwe/ck0i4nprb08w91cmkp1939q6z",width:"100vw",height:"100%",onTransitionEnd:_,onMouseDown:_,onMouseUp:N,onTouchStart:_,onTouchEnd:N,children:[Object(x.jsx)(Ke.c,{showCompass:!1,onViewportChange:function(e){var t=new Ke.d(e).getBounds();I(t,Ct)||C(Object(y.a)(Object(y.a)({},e),{},{transitionDuration:400}))},style:{right:30,bottom:30}}),Object(x.jsx)($e,{onUserLocation:function(e){u(e),t("longitude",e.longitude),t("latitude",e.latitude),C(Object(y.a)(Object(y.a)({},O),{},{longitude:e.longitude,latitude:e.latitude,transitionDuration:400}))}}),p&&Object(x.jsx)(Ke.b,{latitude:p.latitude,longitude:p.longitude,offsetLeft:-10,offsetTop:-10,children:Object(x.jsx)("div",{className:"pulsating-circle"})}),Object(x.jsx)(Ot,{className:"pin-marker"})]}))]})})},It=d.c.div.withConfig({displayName:"Form__StyledFormWrapper",componentId:"sc-1jshrp7-0"})(["width:100%;margin:0 auto;max-width:560px;flex-grow:1;margin-top:2rem;@media (max-height:568px){margin-top:10px;}"]),_t=d.c.input.withConfig({displayName:"Form__StyledInput",componentId:"sc-1jshrp7-1"})(["font-family:MyriadPro,Open sans,Verdana;border-radius:0;font-size:18px;background:none;border:none;border-bottom:1px solid #c8c7cc;display:block;width:100%;padding:5px 0 0;margin-bottom:20px;"]),Nt=d.c.input.withConfig({displayName:"Form__StyledCheckBox",componentId:"sc-1jshrp7-2"})(["cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;margin-right:10px;border:1px solid #c4c4c4;background:#fff;border-radius:0;width:30px;height:30px;padding:0;position:relative;:checked{background-image:url(",");background-size:20px;background-repeat:no-repeat;background-position:center;box-shadow:0 0 0 white;}"],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA7AAAAOwBeShxvQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAACrSURBVFiF7dRbCoMwEIXhH7qv7kofeoFiW6ruqiuzDzoQSsYazSQUcyBPMvmOkggle88hg9kAR+CdwaYBhmm1qfG7g8vqcuIDcN0tfim4ZR5/i9+Acy68dgbWlNiEV57BkBIavngP9/8cusFm/FeJ08zMMxYu0e6ur0R0PKSEGS55KUAF9MqzOhYu0b6E6Zt/RzvhSw+peQlzfK5EMtxXIjku6RlvQklJ1HwAn7WtyLO+e/gAAAAASUVORK5CYII="),Pt=d.c.div.withConfig({displayName:"Form__StyledFollowUpBox",componentId:"sc-1jshrp7-3"})(["display:flex;"]),zt=d.c.div.withConfig({displayName:"Form__StyledError",componentId:"sc-1jshrp7-4"})(["margin-top:10px;font-size:15px;color:red;margin-bottom:2px;font-family:MyriadPro,Open sans,Verdana;font-weight:lighter;"]),At=d.c.span.withConfig({displayName:"Form__DescriptionSpan",componentId:"sc-1jshrp7-5"})(["font-family:MyriadPro,Open sans,Verdana;color:red;font-size:21px;"]),Vt=d.c.label.withConfig({displayName:"Form__StyledLabel",componentId:"sc-1jshrp7-6"})(["font-family:MyriadPro,Open sans,Verdana;font-size:16px;line-height:16px;color:#000;margin-bottom:5px;font-weight:700;"]),Ft=d.c.textarea.withConfig({displayName:"Form__StyledTextArea",componentId:"sc-1jshrp7-7"})(["margin-top:5px;font-size:16px;width:100%;height:200px;padding:2px 2px 2px 4px;resize:none;border:1px solid #888;font-family:MyriadPro,Open sans,Verdana;@media (max-height:580px){height:160px;}"]),Bt=d.c.form.withConfig({displayName:"Form__StyledFormDescription",componentId:"sc-1jshrp7-8"})(["font-family:MyriadPro,Open sans,Verdana;padding:0px 20px;"]),Rt=function(){var e=j().setCurrentViewHeading,t=Ae(),n=t.handelSetFormInfo,r=t.formState,a=Object(i.useContext)(Gt).dispatch;Object(i.useEffect)((function(){e(Object(x.jsx)(Z,{children:Object(x.jsx)(Re,{children:Object(x.jsx)(Me,{children:"Beskriv problemet "})})}))}),[]),Object(i.useEffect)((function(){r.description?a({type:"enableNext"}):a({type:"disableNext"})}),[]);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(It,{children:Object(x.jsxs)(Bt,{children:[Object(x.jsxs)(Vt,{htmlFor:"Beskrivning",children:[Object(x.jsx)(He,{children:"Beskriv problemet du vill felanm\xe4la"}),Object(x.jsx)(At,{children:" * "})]}),Object(x.jsx)(Ft,{type:"text",defaultValue:r.description,placeholder:"Beskrivning...",onChange:function(e){n("description",e.target.value),e.target.value?a({type:"enableNext"}):a({type:"disableNext"})}})]})})})},Mt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Tt=/((?:\+|00)[17](?: |\-)?|(?:\+|00)[1-9]\d{0,2}(?: |\-)?|(?:\+|00)1\-\d{3}(?: |\-)?)?(0\d|\([0-9]{3}\)|[1-9]{0,3})(?:((?: |\-)[0-9]{2}){4}|((?:[0-9]{2}){4})|((?: |\-)[0-9]{3}(?: |\-)[0-9]{4})|([0-9]{7}))/,Et=function(){var e=j().setCurrentViewHeading,t=Object(i.useRef)(""),n=Object(i.useRef)(""),r=Object(i.useRef)(""),a=Object(i.useRef)(!1),o=Ae(),c=o.handelSetFormInfo,s=o.formState,d=Object(i.useContext)(Gt).dispatch,l=function(e){c("name",t.current.value),c("email",n.current.value),c("phone",r.current.value),c("enable_tracking",a.current.checked)};Object(i.useEffect)((function(){e(Object(x.jsx)(Z,{children:Object(x.jsxs)(Re,{children:[Object(x.jsx)(Me,{children:"Kan"})," vi"," ",Object(x.jsx)(Me,{children:"kontakta"})," dig vid",Object(x.jsx)(Me,{children:" fr\xe5gor"}),"?"]})}))}),[]),Object(i.useEffect)((function(){var e=[!p,!u].filter((function(e){return e})).length>0;(u||h)&&(p||m)?a.current.checked&&e?d({type:"enableSubmit"}):a.current.checked?d({type:"disableSubmit"}):d({type:"enableSubmit"}):d({type:"disableSubmit"})}),[a.current.checked,n.current.value,r.current.value]);var p=!r.current.value||r.current.value&&0===r.current.value.length,u=!n.current.value||n.current.value&&0===n.current.value.length,h=Mt.test(n.current.value),m=Tt.test(r.current.value);return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(It,{children:Object(x.jsxs)(Bt,{children:[Object(x.jsx)("div",{children:Object(x.jsxs)(Vt,{htmlFor:"name",children:[Object(x.jsx)(He,{children:"Namn"}),Object(x.jsx)(_t,{placeholder:"Skriv ditt namn",type:"name",name:"name",defaultValue:s.name,ref:t,onChange:l})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(Vt,{htmlFor:"email",children:[Object(x.jsx)(He,{children:"E-post"}),!u&&(!h||void 0)&&Object(x.jsx)(zt,{children:"Kontrollera email"}),Object(x.jsx)(_t,{placeholder:"Skriv din email",type:"email",name:"email",defaultValue:s.email,ref:n,onChange:l})]})}),Object(x.jsx)("div",{children:Object(x.jsxs)(Vt,{htmlFor:"phone",children:[Object(x.jsx)(He,{children:"Telefonnummer"}),!p&&(!m||void 0)&&Object(x.jsx)(zt,{children:"Kontrollera telefonnummer"}),Object(x.jsx)(_t,{placeholder:"Skriv ditt telefonnummer",type:"phone",name:"phone",defaultValue:s.phone,ref:r,onChange:l})]})}),Object(x.jsxs)(Pt,{children:[Object(x.jsx)(Nt,{type:"checkbox",name:"enable_tracking",defaultChecked:s.enable_tracking,ref:a,onChange:l}),Object(x.jsxs)(Te,{children:[" ","Vill du f\xe5 uppf\xf6ljning p\xe5 ditt \xe4rende?"]})]}),a.current.checked&&!([!p,!u].filter((function(e){return e})).length>0&&(h||m))&&Object(x.jsx)(zt,{children:" Fyll i telefonnumer eller e-post "})]})})})},Wt=function(){var e=j().setCurrentViewHeading,t=Ae().formState;return Object(i.useEffect)((function(){e(Object(x.jsxs)(Z,{children:[Object(x.jsxs)(Re,{children:[Object(x.jsx)(Me,{children:"Tack"})," f\xf6r din"," ",Object(x.jsx)(Me,{children:"felanm\xe4lan"})]}),Object(x.jsxs)(Ze,{children:["Den hj\xe4lper oss h\xe5lla v\xe5r vackra stad i ordning."," ",Object(x.jsxs)(qe,{children:["\xc4rende: ",t.external_id]})]})]}))})),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(E,{children:Object(x.jsx)(L,{children:Object(x.jsxs)(De,{children:[Object(x.jsxs)(Le,{children:[Object(x.jsx)(tt.a,{size:"1.6em",style:{color:"#f8c900",marginTop:"5px",marginLeft:"5px"}}),Object(x.jsx)(Ge,{children:"Akut felanm\xe4lan p\xe5 kv\xe4llar och helger"})]}),Object(x.jsxs)(Ue,{children:["Om du vill felanm\xe4la n\xe5got som inte kan v\xe4nta p\xe5 kv\xe4llar eller helger ringer du ",Object(x.jsx)("a",{href:"tel:040341000",children:"040-34 10 00"})," och v\xe4ljer att bli kopplad till v\xe5r jourtj\xe4nst."]})]})})})})},Ut=[{component:Object(x.jsx)(Ye,{}),name:"UploadImageView"},{component:Object(x.jsx)(St,{}),name:"MapView"},{component:Object(x.jsx)(Rt,{}),name:"DescriptionView"},{component:Object(x.jsx)(Et,{}),name:"ContactInfoView"},{component:Object(x.jsx)(Wt,{}),name:"FollowUpView"}],Gt=Object(i.createContext)(),Dt={currentViewIndex:0,disableNext:!1,disablePrevious:!1,disableSubmit:!1,lastViewIndex:Ut.length-1,submitViewIndex:Ut.length-2,disableSkip:!1},Lt=function(e,t){var n=e.currentViewIndex,r=e.disableNext,i=e.disableSubmit,a=e.disablePrevious,o=e.disableSkip;switch(t.type){case"disableNext":return r=!0,Object(y.a)(Object(y.a)({},e),{},{disableNext:r});case"enableNext":return r=!1,Object(y.a)(Object(y.a)({},e),{},{disableNext:r});case"disableSkip":return o=!0,Object(y.a)(Object(y.a)({},e),{},{disableSkip:o});case"enableSkip":return o=!1,Object(y.a)(Object(y.a)({},e),{},{disableSkip:o});case"disableSubmit":return i=!0,Object(y.a)(Object(y.a)({},e),{},{disableSubmit:i});case"enableSubmit":return i=!1,Object(y.a)(Object(y.a)({},e),{},{disableSubmit:i});case"next":return n+=1,Object(y.a)(Object(y.a)({},e),{},{currentViewIndex:n});case"previous":return n-=1,r=!1,Object(y.a)(Object(y.a)({},e),{},{currentViewIndex:n,disableNext:r});case"reset":return r=!1,a=!1,n=0,Object(y.a)(Object(y.a)({},e),{},{currentViewIndex:n,disableNext:r,disablePrevious:a});case"submit":return r=!0,a=!0,n+=1,Object(y.a)(Object(y.a)({},e),{},{currentViewIndex:n,disableNext:r,disablePrevious:a});default:return Object(y.a)({},e)}},Ht=function(e){var t=e.children,n=Object(i.useReducer)(Lt,Dt),r=Object(b.a)(n,2),a=r[0],o=r[1];return Object(x.jsx)(Gt.Provider,{value:{state:a,dispatch:o},children:t})},qt=n(117),Zt=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(We,{children:"Vi vill att tj\xe4nsten ska fungera s\xe5 bra som m\xf6jligt f\xf6r dig som bes\xf6kare. F\xf6r att kunna ta reda p\xe5 vad vi kan g\xf6ra b\xe4ttre analyserar vi hur v\xe5ra bes\xf6kare anv\xe4nder tj\xe4nsten med webbkakor (cookies) Denna information finns ocks\xe5 att l\xe4sa p\xe5 sidan Om webbplatsen, som du n\xe5r via en l\xe4nk i sidfoten."}),Object(x.jsx)(Ee,{children:"Webbkakor (cookies) p\xe5 malmo.se"}),Object(x.jsx)(We,{children:"P\xe5 malmo.se anv\xe4nder vi webbkakor (cookies). En webbkaka \xe4r en liten textfil med information som lagras p\xe5 bes\xf6karens dator f\xf6r att f\xf6rb\xe4ttra webbplatsen f\xf6r dig som bes\xf6kare."}),Object(x.jsx)(We,{children:"Vi anv\xe4nder webbkakor f\xf6r att analysera hur webbplatsen anv\xe4nds, genom att webbkakorna till exempel h\xe5ller ordning p\xe5 hur snabb webbplatsen varit f\xf6r dig och vilka sidor som bes\xf6kts."}),Object(x.jsx)(We,{children:"L\xe4s mer om webbkakor och vilka som anv\xe4nds p\xe5 malmo.se p\xe5 sidan Om webbkakor (cookies) som du n\xe5r via en l\xe4nk i sidfoten p\xe5 malmo.se"}),Object(x.jsx)(Ee,{children:"Personuppgifter p\xe5 malmo.se"}),Object(x.jsx)(We,{children:"Ett IP-nummer \xe4r din unika adress p\xe5 internet. IP-numret anv\xe4nds f\xf6r att information som skickas \xf6ver internet ska n\xe5 fram till r\xe4tt plats. Det enskilda IP-numret \xe4r ointressant f\xf6r oss och vi avidentifierar all information i s\xe5 stor utstr\xe4ckning som m\xf6jligt. Den information vi har i v\xe5ra systemloggar sparas endast i syfte att webbplatsen ska fungera bra."}),Object(x.jsx)(We,{children:"Om du fyller i formul\xe4r p\xe5 malmo.se sparas den information du valt att uppge i v\xe5ra systemloggar, f\xf6r att s\xe4kerst\xe4lla att informationen n\xe5r fram. Information om hur dina uppgifter hanteras f\xe5r du i samband med att du anv\xe4nder det specifika formul\xe4ret."}),Object(x.jsx)(We,{children:"Informationen rensas fr\xe5n v\xe5ra systemloggar var sj\xe4tte m\xe5nad"}),Object(x.jsx)(Ee,{children:"Mer information om dina r\xe4ttigheter"}),Object(x.jsx)(We,{children:"Dina r\xe4ttigheter regleras i dataskyddsf\xf6rordningen (DSF/GDPR). Du kan l\xe4sa mer om f\xf6rordningen p\xe5 Datainspektionens webbplats."})]})},Yt=function(){var e=Object(qt.a)(["cookieConsent"]),t=Object(b.a)(e,2),n=(t[0],t[1]),r=Object(i.useState)(!1),a=Object(b.a)(r,2),o=a[0],c=a[1];return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(T,{children:[Object(x.jsxs)(G,{children:[Object(x.jsx)(Be,{children:"Malm\xf6 stads felanm\xe4lan"}),Object(x.jsx)(Ee,{children:"H\xe4r anm\xe4ler du fel p\xe5 Malm\xf6s gator, torg och parker."}),o?Object(x.jsx)(Zt,{}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(We,{children:"Vi vill att tj\xe4nsten ska fungera s\xe5 bra som m\xf6jligt f\xf6r dig som bes\xf6kare. F\xf6r att kunna ta reda p\xe5 vad vi kan g\xf6ra b\xe4ttre analyserar vi hur v\xe5ra bes\xf6kare anv\xe4nder tj\xe4nsten med webbkakor (cookies)"})})]}),Object(x.jsxs)(D,{children:[!o&&Object(x.jsxs)(me,{onClick:function(){c(!0)},children:[Object(x.jsx)(tt.b,{})," L\xe4s mer"]}),Object(x.jsx)(ue,{onClick:function(){n("cookieConsent",!0,{path:"/"})},children:"Acceptera"})]})]})})},Kt=function(){var e=Ae(),t=e.formState,n=e.dispatch,r=Object(i.useState)(0),a=Object(b.a)(r,2),o=a[0],c=a[1],s=Object(i.useState)(!1),d=Object(b.a)(s,2),l=d[0],p=d[1],u=j().setImagesToBeUploaded,h=Object(i.useContext)(Gt),m=h.state,f=h.dispatch,g=m.disableNext,y=m.currentViewIndex,w=m.lastViewIndex,O=m.disableSubmit,C=m.submitViewIndex,S=m.disablePrevious,I=m.disableSkip;return Object(i.useEffect)((function(){c(window.innerWidth)}),[]),window.addEventListener("resize",(function(){c(window.innerWidth)})),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(W,{windowWidth:o,currentViewIndex:y,lastViewIndex:w,formState:t.images.length,children:Object(x.jsxs)(U,{children:[0===y&&!I&&Object(x.jsx)(se,{windowWidth:o,onClick:function(){f({type:"next"}),f({type:"disableNext"})},children:"Hoppa \xf6ver"}),!(y===C||g)&&Object(x.jsx)(ce,{onClick:function(){f({type:"next"})},children:"N\xe4sta steg"}),y===C&&!O&&Object(x.jsx)(ce,{onClick:Object(k.a)(v.a.mark((function e(){var r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=4;break}return e.abrupt("return");case 4:p(!0);case 5:return e.next=7,Ie(t);case 7:r=e.sent,n({type:"setFormInfo",field:"external_id",payload:r.data.IssueId}),p(!1),f({type:"submit"});case 11:case"end":return e.stop()}}),e)}))),children:l?Object(x.jsx)(Xe,{}):Object(x.jsx)("span",{children:"Skicka in "})}),y===w&&Object(x.jsx)(pe,{onClick:function(){u([]),n({type:"clearFormInfo"}),f({type:"reset"})},children:"Skapa Ny"}),!(0===y||S)&&Object(x.jsx)(le,{onClick:function(){f({type:"previous"})},children:"Tillbaka"})]})})})},Qt=function(){return Object(x.jsx)(Kt,{})},Jt=function(){var e=j().currentViewHeading;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(H,{children:Object(x.jsx)(q,{children:Object(x.jsx)(Re,{children:e})})})})},Xt=function(e){var t=e.errorMessage;return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Oops!"}),Object(x.jsx)("p",{children:t})]})},$t=function(){var e=Object(qt.a)(["cookieConsent"]),t=Object(b.a)(e,1)[0],n=j(),r=n.error,a=n.errorMessenger,o=n.errorStatusCode,c=Object(i.useContext)(Gt).state,s=c.currentViewIndex,d=c.lastViewIndex;return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(R,{currentViewIndex:s,lastViewIndex:d,children:t.cookieConsent?Object(x.jsxs)(x.Fragment,{children:["MapView"!==Ut[c.currentViewIndex].name&&Object(x.jsx)(Jt,{}),r?Object(x.jsx)(Xt,{errorMessage:a,statusCode:o}):Object(x.jsx)(x.Fragment,{children:Ut[c.currentViewIndex].component}),Object(x.jsx)(Qt,{})]}):Object(x.jsx)(Yt,{})})})},en=function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(m,{}),Object(x.jsx)($t,{})]})},tn=n(118);c.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(tn.a,{children:Object(x.jsx)(g,{children:Object(x.jsx)(Ht,{children:Object(x.jsx)(Fe,{children:Object(x.jsx)(d.a,{theme:{colors:{PrimaryGreen:"#037540",SecondaryGreen:"#056B54",TextBlack:"#000",TextGray:"#BCBCBC",White:"#fff"},FontSizes:{Title:"2.2rem",ContentText:"0.9rem",ButtonText:"1.1rem"}},children:Object(x.jsx)(en,{})})})})})})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.240e4f56.chunk.js.map